<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>Document</title>
	<style>
		a{
			display: block;
			background: #000;
			width: :2.5rem;
			height: 1.25rem;
			padding: 0.5rem;
			border-radius: 4px;
			margin-bottom: 0.75rem;
			color: #fff;
			text-align: center;
			line-height: 1.25rem;
			font-size: 1rem;
			text-decoration: none;
		}
	</style>
</head>
<body>
	<a href="javascript:;" class="1">跳转h5</a>
	<a href="javascript:;" class="2">首页</a>
	<a href="javascript:;" class="3">搜索页面</a>
	<a href="javascript:;" class="4">分类列表页面</a>
	<a href="javascript:;" class="5">品牌团详情页面</a>
	<a href="javascript:;" class="6">特卖页面</a>
	<a href="javascript:;" class="7">专题页面</a>
	<a href="javascript:;" class="8">专题合集（原生页面）</a>
	<a href="javascript:;" class="9">商品列表页</a>
	<a href="javascript:;" class="10">专题详情页面</a>
	<a href="javascript:;" class="11">优惠券列表type=0：商品id</a>
	<a href="javascript:;" class="111">优惠券列表type=1：供应商id</a>
	<a href="javascript:;" class="112">优惠券列表type=2：优惠券集合id</a>
	<a href="javascript:;" class="12">优惠券详情</a>
	<a href="javascript:;" class="13">我的优惠券</a>
	<a href="javascript:;" class="14">购物车0:直接跳转购物车</a>
	<a href="javascript:;" class="141">购物车1:添加商品到购物车</a>
	<a href="javascript:;" class="15">登陆页面</a>
	<a href="javascript:;" class="16">商品详情页</a>
</body>
</html>
<script src="../statics/js/jquery.min.js"></script>
<script>
		(function(doc, window) {
		    var docEl = doc.documentElement,
		    resizeEvt = 'orientationchange' in window ? 'orientationchange': 'resize',
		    recalc = function() {
		        var clientWidth = docEl.clientWidth;
		        if (!clientWidth) return;
		        docEl.style.fontSize = (20 * (clientWidth / 320)) > 40 ? 40 + "px": (20 * (clientWidth / 320)) + 'px';
		    },
		    anime = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame ||
		    function(e) {
		        return setTimeout(e, 16.67);
		    };
		    if (!doc.addEventListener) return;
		    window.addEventListener(resizeEvt, recalc, false);
		    doc.addEventListener('DOMContentLoaded', recalc, false);
		})(document, window);
		// ios和安卓交互
		 function connectWebViewJavascriptBridge(callback) {
				if (window.WebViewJavascriptBridge) {
					callback(WebViewJavascriptBridge)
				} else {
					document.addEventListener('WebViewJavascriptBridgeReady', function() {
						callback(WebViewJavascriptBridge)
					}, false)
				}
			}
			connectWebViewJavascriptBridge(function(bridge) {
				/* Init your app here */
			
				// 刚进来就调用
				bridge.init(function(message, responseCallback) {
					if (responseCallback) {
						responseCallback("Right back atcha")
					}
				})
				bridge.send('Please respond to this', function responseCallback(responseData) {
					console.log("Javascript got its response", responseData)
				})
			})
			var browser = {
			  versions: function () {
			      var u = navigator.userAgent, app = navigator.appVersion;
			      return { //移动终端浏览器版本信息 
			          mobile: !!u.match(/AppleWebKit.*Mobile.*/),
			          ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端 
			          android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或uc浏览器 
			          iPhone: u.indexOf('iPhone') > -1, //是否为iPhone或者QQHD浏览器 
			         iPad: u.indexOf('iPad') > -1, //是否iPad]
			         weixin : u.match("MicroMessenger")
			     };
			 }(),
			};
			var type = 1;
			var info = 2;
			if(browser.versions.android) {
				$(".1").on("click",function(){
					window.bridge.javascriptJumpAction(1, "跳转h5","http://zengnanlin.lingshi/api.php?apptype=0&srv=2506&cid=10002&uid=0&&tms=20150713151836&sig=e9f75a3bdae950ea&wssig=9de6f856100a21ab&os_type=3&version=7&channel_name=h5&goods_id=5003","");
				});
				$(".2").on("click",function(){
					window.bridge.javascriptJumpAction(2, "","","");
				});
				$(".3").on("click",function(){
					window.bridge.javascriptJumpAction(3, "","","");
				});
				$(".4").on("click",function(){
					window.bridge.javascriptJumpAction(4, "分类列表页面","44","");
				});
				$(".5").on("click",function(){
					window.bridge.javascriptJumpAction(5, "品牌团详情页面","1","");
				});
				$(".6").on("click",function(){
					window.bridge.javascriptJumpAction(6, "","","");
				});
				$(".7").on("click",function(){
					window.bridge.javascriptJumpAction(7, "","","");
				});
				$(".8").on("click",function(){
					window.bridge.javascriptJumpAction(8, "","5","");
				});
				$(".9").on("click",function(){
					window.bridge.javascriptJumpAction(9, "","82","");
				});
				$(".10").on("click",function(){
					window.bridge.javascriptJumpAction(10, "","83","");
				});
				$(".11").on("click",function(){
					window.bridge.javascriptJumpAction(11, "优惠券列表","0","5090");
				});
				$(".111").on("click",function(){
					window.bridge.javascriptJumpAction(11, "优惠券列表","1","6");
				});
				$(".112").on("click",function(){
					window.bridge.javascriptJumpAction(11, "优惠券列表","2","14");
				});
				$(".12").on("click",function(){
					window.bridge.javascriptJumpAction(12, "","1","");
				});
				$(".13").on("click",function(){
					window.bridge.javascriptJumpAction(13, "","","");
				});
				$(".14").on("click",function(){
					window.bridge.javascriptJumpAction(14, "","0","");
				});
				$(".141").on("click",function(){
					window.bridge.javascriptJumpAction(14, "","1",'[{"goods_id":"5089","kind_id":"12","subkind_id":"237","num":"1"},{"goods_id":"5090","kind_id":"12","subkind_id":"169","num":"1"},{"goods_id":"5076","kind_id":"12","subkind_id":"133","num":"1"}]');
				});
				$(".15").on("click",function(){
					window.bridge.javascriptJumpAction(15, "","","");
				});
				$(".16").on("click",function(){
					window.bridge.javascriptJumpAction(16, "","5090","");
				});


			}else if(browser.versions.iPhone || browser.versions.iPad){
				connectWebViewJavascriptBridge(function(bridge) {
					$(".1").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 1, title : '跳转h5',param1 : 'http://zengnanlin.lingshi/api.php?apptype=0&srv=2506&cid=10002&uid=0&&tms=20150713151836&sig=e9f75a3bdae950ea&wssig=9de6f856100a21ab&os_type=3&version=7&channel_name=h5&goods_id=5003',param2 : ''},function(data,responseCallback){})
					});
					$(".2").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 2, title : '',param1 : '',param2 : ''},function(data,responseCallback){})
					});
					$(".3").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 3, title : '',param1 : '',param2 : ''},function(data,responseCallback){})
					});
					$(".4").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 4, title : '分类列表页面',param1 : '44' ,param2 : ''},function(data,responseCallback){})
					});
					$(".5").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 5, title : '品牌团详情页面',param1 : '1' ,param2 : ''},function(data,responseCallback){})
					});
					$(".6").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 6, title : '',param1 : '' ,param2 : ''},function(data,responseCallback){})
					});
					$(".7").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 7, title : '',param1 : '' ,param2 : ''},function(data,responseCallback){})
					});
					$(".8").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 8, title : '',param1 : '5' ,param2 : ''},function(data,responseCallback){})
					});
					$(".9").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 9, title : '',param1 : '82' ,param2 : ''},function(data,responseCallback){})
					});
					$(".10").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 10, title : '',param1 : '83' ,param2 : ''},function(data,responseCallback){})
					});
					$(".11").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 11, title : '优惠券列表',param1 : '0' ,param2 : '5090'},function(data,responseCallback){})
					});
					$(".111").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 11, title : '优惠券列表',param1 : '1' ,param2 : '6'},function(data,responseCallback){})
					});
					$(".112").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 11, title : '优惠券列表',param1 : '2' ,param2 : '14'},function(data,responseCallback){})
					});
					$(".12").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 12, title : '',param1 : '1' ,param2 : ''},function(data,responseCallback){})
					});
					$(".13").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 13, title : '',param1 : '' ,param2 : ''},function(data,responseCallback){})
					});
					$(".14").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 14, title : '',param1 : '0' ,param2 : ''},function(data,responseCallback){})
					});
					$(".141").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 14, title : '',param1 : '1' ,param2 : '[{"goods_id":"5089","kind_id":"12","subkind_id":"237","num":"1"},{"goods_id":"5090","kind_id":"12","subkind_id":"169","num":"1"},{"goods_id":"5076","kind_id":"12","subkind_id":"133","num":"1"}]'},function(data,responseCallback){})
					});
					$(".15").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 15, title : '',param1 : '' ,param2 : ''},function(data,responseCallback){})
					});
					$(".16").on("click",function(){
						bridge.callHandler("javascriptJumpAction",{type : 16, title : '',param1 : '5090' ,param2 : ''},function(data,responseCallback){})
					});
				})
			}
	
</script>